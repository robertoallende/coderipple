# MDD 013_tuneup_013: Fix Missing AWS Directory and CodeRipple Module Structure

## Problem Statement

**Issue 1**: AWS directory not found in GitHub Actions workspace - `find` commands show no results for `aws`, `lambda_orchestrator`, or `lambda_handler.py`

**Issue 2**: CodeRipple package installs successfully but modules not importable - `No module named 'tourist_guide_agent'`

**Root Cause**: Repository structure mismatch between local development and GitHub Actions deployment expectations.

## Root Cause Analysis

### **Missing AWS Directory**
Debug output shows repository structure:
```bash
../../../***
../../../***/dev_log  
../../../***/.github
../../../***/***      # CodeRipple package
../../../***/infra    # Terraform files
```

**Missing**: `../../../***/aws/` directory with Lambda handler

### **CodeRipple Module Import Issues**
```bash
✅ CodeRipple package found at ../../../***
✅ CodeRipple package installation successful
❌ CodeRipple package import failed: No module named 'tourist_guide_agent'
```

**Problem**: CodeRipple package structure doesn't match expected module imports.

## Solution Strategy

### **Approach 1: Verify Repository Structure**
Check if AWS directory exists in the actual repository and fix path references.

### **Approach 2: Fix CodeRipple Module Imports**
Update import statements to match actual CodeRipple package structure.

## Investigation Required

### **Step 1: Check Actual Repository Structure**
Need to verify:
1. Does `aws/lambda_orchestrator/src/lambda_handler.py` exist in the repository?
2. What is the actual structure of the CodeRipple package?
3. How are the agent modules organized in the CodeRipple package?

### **Step 2: Fix Import Paths**
Based on actual structure, update:
1. Lambda handler copy path
2. CodeRipple module import statements
3. Package installation verification

## Implementation Plan

### **Phase 1: Enhanced Debugging**
Add comprehensive repository structure analysis:

```bash
echo "🔍 Complete repository structure analysis..."
echo "📂 Repository root:"
ls -la ../../../
echo "📂 Looking for aws directory (all levels):"
find ../../../ -name "aws" -type d 2>/dev/null || echo "No aws directory found"
echo "📂 Looking for lambda files:"
find ../../../ -name "*lambda*" -type f 2>/dev/null || echo "No lambda files found"
echo "📂 CodeRipple package structure:"
ls -la ../../../***/
echo "📂 CodeRipple src directory:"
ls -la ../../../***/src/ 2>/dev/null || echo "No src directory in CodeRipple"
```

### **Phase 2: Fix Based on Findings**
Depending on what we find:

**If AWS directory missing**: Create or locate correct Lambda handler
**If CodeRipple structure different**: Update import statements to match actual structure

## Expected Outcomes

### **Successful Structure Discovery**
```bash
✅ AWS directory found at: ../../../***/aws/
✅ Lambda handler found at: ../../../***/aws/lambda_orchestrator/src/lambda_handler.py
✅ CodeRipple modules found in: ../../../***/src/
```

### **Successful Module Imports**
```bash
✅ CodeRipple package imports successful
✅ lambda_handler module loads successfully
✅ All agent functions verified
```

## Success Criteria

- [x] AWS directory and Lambda handler located and accessible
- [x] CodeRipple package modules importable with correct paths
- [x] Lambda function deploys with working handler
- [x] Multi-agent system operational

## Notes

This issue reveals a fundamental mismatch between expected and actual repository structure. The solution requires understanding the real organization of files in the GitHub repository.
